<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Add a Provider</title>
<link rel="stylesheet"
    href="../../../src/assets/prototype-styles/design-system.css">
<link rel="stylesheet" href="../../../src/assets/prototype-styles/prototype.css">
 <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="../../../src/assets/prototype-styles/hha.css">
<link rel="shortcut icon" href="https://test1-iqies.hcqis.org/favicon.ico">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700,800&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/51dd396d57.js"></script>
</head>

<body>
<header>
	<div class="container-fluid">
	  <div class="row iq-page-header">
		<div class="col">
                  <nav>
                    <a href="./">
                      <img src="../../../src/assets/images/logo-iqies.svg" class="iq-logo" alt="iQIES Logo">
                    </a>
                      
                      <button class="btn btn-outline-primary" id="menuDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">MENU</button><nav class="iqies-menu dropdown-menu" ari-labelledby="menuDropdown" style="min-width: 12.5rem;"><ul class="list-group list-group-flush"><a class="list-group-item list-group-item-action iqies-section-header active" href="#">iQIES Home</a><a class="list-group-item list-group-item-action iqies-section-header " href="../users/my-profile.html">My Profile</a><a class="list-group-item list-group-item-action iqies-section-header " href="../providers/providers-landing.html">Providers</a><a class="list-group-item list-group-item-action " href="../providers/find-a-provider.html">Find a Provider</a><a class="list-group-item list-group-item-action " href="../providers/add-a-provider.html">Add a Provider</a><a class="list-group-item list-group-item-action iqies-section-header " href="../reports/reports-landing.html">Reports</a><a class="list-group-item list-group-item-action " href="../reports/find-a-report.html">Find a Report Type</a><a class="list-group-item list-group-item-action " href="../reports/my-reports.html">My Reports</a><a class="list-group-item list-group-item-action " href="../reports/report-activity.html">Report Activity</a><a class="list-group-item list-group-item-action iqies-section-header " href="../admin/index.html">Administration</a><a class="list-group-item list-group-item-action iqies-section-header " href="../help/">Help</a><a class="list-group-item list-group-item-action iqies-section-header" href="../logout.html">Logout</a></ul></nav>
                  </nav>
                    
                    
                </div>
              </div>
            </div>
           
          </header>
<main>
  <div class="iq-page-header-wrapper mb-0">
      <div class="container">
        <div class="iq-page-header">
          <div class="row">
            <div class="col">
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="../global/global-landing-menu.html">Home</a>
                  </li>
                  <li class="breadcrumb-item">
                    <a href="find-a-provider.html">Providers</a>
                  </li>
                  <li class="breadcrumb-item">
                      Add a Provider
                  </li>
                </ol>
              </nav>
             
            </div>
          </div>
        </div>
      </div>
    </div>
  <div class="container" id="mainContent">
   <h1>Add a Provider</h1>
      
<div class="row">
    <div class="col-md-12">
        <p class="iqies-required-text">All required fields are marked with an asterisk (<span class="iq-asterisk">*</span>)</p>
    </div>
    <div class="col-md-6">
        <p><label>Provider Type <span class="iq-asterisk">*</span></label>
        <select class="form-control" onChange="$('form').removeClass('hide'); switch(this.options[this.selectedIndex].value){ 
                        case 'cl': $('.col.subType').removeClass('hide');  $('.hospiceOnly').addClass('hide'); $('.legalName').addClass('hide');  break; 
                        case 'hospice': $('.col.subType').addClass('hide'); $('.hospiceOnly').removeClass('hide'); $('.legalName').addClass('hide'); break; 
                        case 'hha': case 'irf': case 'ltch': case 'nh': $('.col.subType').addClass('hide'); $('.hospiceOnly').addClass('hide'); $('.legalName').removeClass('hide'); break; default: $('form').addClass('hide'); break; }; ">
              <option disabled selected>Select one</option>
              <option value="cl">Clinical Laboratory</option>
              <option value="hha">Home Health Agency</option>
              <option value="hospice">Hospice</option>
              <option value="irf">Inpatient Rehab Facility</option>
              <option value="ltch">Long Term Care Hospital</option>
              <option value="nh">Nursing Home</option>
          </select>
        </p>
    </div>
    <div class="col col-md-6 subType hide">
        <p> <label>Provider Sub-Type</label>
          <select class="form-control">
              <option selected>Not Applicable</option>  
          </select>
        </p>
    </div>
</div> 
<form class="hide">
<div class="row">
  <div class="col-md-12">
    <p><label>Provider Name (DBA) <span class="iq-asterisk">*</span></label>
        <input type="text" class="form-control" value="" id="providerNameInput" required>
       <span class="help-text">The Doing Business As Name reported on CMS 855</span>
    </p>
  </div> 
  <div class="col-md-12 legalName hide">
      <div class="form-group">
          <div class="custom-control custom-checkbox">
            <input type="checkbox" id="sameAsBusName"
                    name="sameAsBusName"
                    class="custom-control-input" value="value" onChange="if(this.checked){ $('#legalNameInput').val( $('#providerNameInput').val() ); $('#legalNameInput').prop('readonly', true); }">
            <label class="custom-control-label"
                    for="sameAsBusName"> Legal Name Same as Provider Name (DBA) </label>
          </div>
      </div>
      <div class="form-group">
          <label>Legal Name <span class="iq-asterisk">*</span></label>
          <input type="text" id="legalNameInput" class="form-control" value="">
          <p class="help-text">The legal name reported on CMS 855A</p>
      </div>
  </div>
  <div class="col-md-12">
    <fieldset>
        <legend class="iq-form-group-title">Primary Location</legend>
        <div class="row">
   <div class="col-md-12">
      <div class="form-group">
        <label>Address Line 1 <span class="iq-asterisk">*</span></label>
        <input type="text" required>
          <span class="help-text">Number and street name or PO box</span>
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group">
        <label>Address Line 2</label>
        <input type="text">
          <span class="help-text">Company, C/O, Apt, Suite, Unit Building, Floor, etc.</span>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>City <span class="iq-asterisk">*</span></label>
        <input type="text" required>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>State <span class="iq-asterisk">*</span></label>
        <select disabled onChange="if(this.options[this.selectedIndex].value != ''){ $('.stateDependent').prop('disabled',false);}">
          <option value="">Select one</option>
          <option value="AL">Alabama</option>
          <option value="AK">Alaska</option>
          <option value="AZ">Arizona</option>
          <option value="AR">Arkansas</option>
          <option value="CA">California</option>
          <option value="CO">Colorado</option>
          <option value="CT">Connecticut</option>
          <option value="DE">Delaware</option>
          <option value="DC">District Of Columbia</option>
          <option value="FL">Florida</option>
          <option value="GA">Georgia</option>
          <option value="HI">Hawaii</option>
          <option value="ID">Idaho</option>
          <option value="IL" selected>Illinois</option>
          <option value="IN">Indiana</option>
          <option value="IA">Iowa</option>
          <option value="KS">Kansas</option>
          <option value="KY">Kentucky</option>
          <option value="LA">Louisiana</option>
          <option value="ME">Maine</option>
          <option value="MD">Maryland</option>
          <option value="MA">Massachusetts</option>
          <option value="MI">Michigan</option>
          <option value="MN">Minnesota</option>
          <option value="MS">Mississippi</option>
          <option value="MO">Missouri</option>
          <option value="MT">Montana</option>
          <option value="NE">Nebraska</option>
          <option value="NV">Nevada</option>
          <option value="NH">New Hampshire</option>
          <option value="NJ">New Jersey</option>
          <option value="NM">New Mexico</option>
          <option value="NY">New York</option>
          <option value="NC">North Carolina</option>
          <option value="ND">North Dakota</option>
          <option value="OH">Ohio</option>
          <option value="OK">Oklahoma</option>
          <option value="OR">Oregon</option>
          <option value="PA">Pennsylvania</option>
          <option value="RI">Rhode Island</option>
          <option value="SC">South Carolina</option>
          <option value="SD">South Dakota</option>
          <option value="TN">Tennessee</option>
          <option value="TX">Texas</option>
          <option value="UT">Utah</option>
          <option value="VT">Vermont</option>
          <option value="VA">Virginia</option>
          <option value="WA">Washington</option>
          <option value="WV">West Virginia</option>
          <option value="WI">Wisconsin</option>
          <option value="WY">Wyoming</option>
        </select>
        <span class="help-text">Defaulted to your state</span>
      </div>
    </div>
    <div class="col-md-3">
      <div class="form-group">
        <label>Zip Code <span class="iq-asterisk">*</span></label>
        <input type="text" required>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label>County</label>
        <input type="text" class="form-control">
      </div>
    </div>      
  </div>
<div class="row extra">
            <!-- <div class="col-md-6">
                <div class="form-group">
                    <label>State Region
<select disabled class="form-control stateDependent"><option>Select one</option><option>xxx</option></select></label>
                    <p class="help-text" id="stateRegionHelp">State must be selected</p>
                </div>
            </div>-->
            <!--<div class="col-md-6">
                <div class="form-group">
                    <label>CMS Region
                    <input class="form-control" type="text" value="5 - Chicago" id="CMSRegions" readonly></label>
                    <p class="help-text">Autopopulated after State is selected</p>
                </div>
            </div><div class="col-md-6"></div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Management Unit
                   <select class="form-control"><option>Select one</option><option>xxx</option></select></label>
                    <p class="help-text">State must be selected</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Work Unit
                    <select disabled class="form-control stateDependent"><option>Select one</option><option>xxx</option></select></label>
                    <p class="help-text">Management unit must be selected</p>
                </div>
            </div>-->
        </div>
    </fieldset>
    <fieldset><legend class="iq-form-group-title">Mailing Address</legend>
        <div class="row">
        <div class="col">
          <div class="custom-control custom-checkbox">
            <input type="checkbox" id="sameAsFacilityAddress"
                    name="sameAsFacilityAddress"
                    class="custom-control-input" value="value" onChange="if(this.checked){ $('.mailingAddressForm input').prop('readonly',true); $('.mailingAddressForm select').prop('disabled',true); } else { $('.mailingAddressForm input').prop('readonly',false); $('.mailingAddressForm select').prop('disabled',false);}">
            <label class="custom-control-label"
                    for="sameAsFacilityAddress"> Same as Primary Location </label>
          </div>
        </div>
      </div>
      <div class="row mailingAddressForm">
         <div class="col-md-12">
          <div class="form-group">
            <label>Address Line 1 <span class="iq-asterisk">*</span></label>
            <input type="text" required>
              <span class="help-text">Number and street name or PO box</span>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label>Address Line 2</label>
            <input type="text">
              <span class="help-text">Company, C/O, Apt, Suite, Unit Building, Floor, etc.</span>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>City <span class="iq-asterisk">*</span></label>
            <input type="text" class="required-form-input" required>
            <p class="iq-input-error-msg hide"><i class="fas fa-exclamation-triangle" title="Error"></i> This field is required</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>State</label>
            <select>
              <option value="">Select one</option>
              <option value="AL">Alabama</option>
              <option value="AK">Alaska</option>
              <option value="AZ">Arizona</option>
              <option value="AR">Arkansas</option>
              <option value="CA">California</option>
              <option value="CO">Colorado</option>
              <option value="CT">Connecticut</option>
              <option value="DE">Delaware</option>
              <option value="DC">District Of Columbia</option>
              <option value="FL">Florida</option>
              <option value="GA">Georgia</option>
              <option value="HI">Hawaii</option>
              <option value="ID">Idaho</option>
              <option value="IL">Illinois</option>
              <option value="IN">Indiana</option>
              <option value="IA">Iowa</option>
              <option value="KS">Kansas</option>
              <option value="KY">Kentucky</option>
              <option value="LA">Louisiana</option>
              <option value="ME">Maine</option>
              <option value="MD">Maryland</option>
              <option value="MA">Massachusetts</option>
              <option value="MI">Michigan</option>
              <option value="MN">Minnesota</option>
              <option value="MS">Mississippi</option>
              <option value="MO">Missouri</option>
              <option value="MT">Montana</option>
              <option value="NE">Nebraska</option>
              <option value="NV">Nevada</option>
              <option value="NH">New Hampshire</option>
              <option value="NJ">New Jersey</option>
              <option value="NM">New Mexico</option>
              <option value="NY">New York</option>
              <option value="NC">North Carolina</option>
              <option value="ND">North Dakota</option>
              <option value="OH">Ohio</option>
              <option value="OK">Oklahoma</option>
              <option value="OR">Oregon</option>
              <option value="PA">Pennsylvania</option>
              <option value="RI">Rhode Island</option>
              <option value="SC">South Carolina</option>
              <option value="SD">South Dakota</option>
              <option value="TN">Tennessee</option>
              <option value="TX">Texas</option>
              <option value="UT">Utah</option>
              <option value="VT">Vermont</option>
              <option value="VA">Virginia</option>
              <option value="WA">Washington</option>
              <option value="WV">West Virginia</option>
              <option value="WI">Wisconsin</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>ZIP Code <span class="iq-asterisk">*</span></label>
            <input type="text" class="required-form-input" required>
             <p class="iq-input-error-msg hide"><i class="fas fa-exclamation-triangle" title="Error"></i> This field is required</p>
          </div>
        </div>
      </div>
    </fieldset>
    <fieldset>
        <legend class="iq-form-group-title">Contact Information</legend>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                <label>Phone <span class="iq-asterisk">*</span>
                <input class="form-control" maxlength="10" type="tel" value="" required></label>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                <label>Extension
                <input class="form-control" maxlength="4" type="text" value=""></label>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                <label>Fax
                <input class="form-control" maxlength="10" type="tel" value=""></label>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                <label>Email <span class="iq-asterisk">*</span>
                <input class="form-control" type="email" value="" required></label>
                </div>
            </div> 
            <div class="col-md-6">
                <div class="form-group">
                <label>Website
                <input class="form-control" type="url" value=""></label>
                </div>
            </div> 
        </div>
    </fieldset>
    
  </div>
</div>

</form>
<div class="row">
    <div class="col">
      <div class="iq-button-wrapper">
        <a href="provider-profile-blank.html" class="btn btn-primary">Add Provider</a>
        <a href="find-a-provider.html" class="btn btn-link">Cancel</a>
      </div>
    </div>
</div>
    
  </div>
</main>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-xl-10">
        <div class="iq-footer-content">
          <div class="row">
            <div class="col">
              <div class="iq-footer-heading"> <a href="/"> <img
                      src="../../../src/assets/images/logo-iqies-reversed.svg"
                      class="logo iq-logo" alt="Logo iQIES White"> </a><img src="../../../src/assets/images/logo-cms.svg"
                    class="img-fluid logo cms-logo d-lg-none" alt=""> </div>
            </div>
          </div>
          <div class="row">
            <div class="col"> <a href="/help">Help</a><span> (800)
              339-9313 </span><a href="mailto:help@qtso.com">Email Us</a><a
                  href="https://qtso.cms.gov/" target="_blank"
                  rel="noopener noreferrer"> QTSO <img src="../../../src/assets/images/logo-cms.svg"
                    class="iq-external-link-icon" alt=""> </a><a href="https://www.cms.gov/Medicare/Medicare.html"
                  target="_blank" rel="noopener noreferrer"> Medicare <img
                    src="../../../src/assets/images/icon-link-external.svg"
                    class="iq-external-link-icon" alt=""> </a><a href="/privacy-policy">Privacy Policy</a> </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="iq-footer-links"> <a href="https://www.medicare.gov/about-us/plain-writing"
                    target="_blank" rel="noopener noreferrer"> Plain Writing <img
                      src="../../../src/assets/images/icon-link-external.svg"
                      class="iq-external-link-icon" alt=""> </a><a
                    href="https://www.cms.gov/center/freedom-of-information-act-center.html"
                    target="_blank" rel="noopener noreferrer"> Freedom of
                Information Act <img
                      src="../../../src/assets/images/icon-link-external.svg"
                      class="iq-external-link-icon" alt=""> </a><a
                    href="https://www.cms.gov/About-CMS/Agency-Information/Aboutwebsite/NoFearAct.html"
                    target="_blank" rel="noopener noreferrer"> No Fear Act <img
                      src="../../../src/assets/images/icon-link-external.svg"
                      class="iq-external-link-icon" alt=""> </a><a href="https://get.adobe.com/reader/" target="_blank"
                    rel="noopener noreferrer"> Adobe Acrobat <img
                      src="../../../src/assets/images/icon-link-external.svg"
                      class="iq-external-link-icon" alt=""> </a> </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-xl-2 d-flex align-items-center"> <img src="../../../src/assets/images/logo-cms.svg"
            class="logo cms-logo d-none d-lg-block" alt="CMS Logo"> </div>
    </div>
  </div>
</footer>
<script src="../../../src/assets/third-party/jquery-3.2.1/jquery-3.2.1.min.js"></script> 
<script src="../../../src/assets/third-party/popper/popper.min.js"></script> 
<script src="../../../src/assets/third-party/bootstrap-4.0.0/js/bootstrap.min.js"></script> 
<script src="../../../src/assets/js/scripts.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
 
$(document).ready(function () {
   
 $('[data-toggle="tooltip"]').tooltip(); 
window.setTimeout(function() {
    $(".alert-success").fadeTo(5000, 0).slideUp(5000, function(){
        $(this).addClass('hide'); 
    });
}, 5000);
 
});

</script>
<script>
  $( function() {
    var availableProviderTypes = [
      "Home Health Agencies",
      "Hospice",
      "Clinical Laboratory"
    ];
    var availableSubTypes = [
        ""
    ];
    var availableCertStatus = [
        "All", "Not Applicable", "Pending Certification", "Certified", "Terminated", 
    ];
    var availableStates = [
        "All", "Alabama", "Alaska", "American Samoa", "Arizona", "Arkansas", "California", "Canada", "Colorado", "Connecticut", "Delaware", "District of Columbia", "Florida", "Georgia", "Guam", "Hawaii", "Idaho", "Illinois", "Indiana", "International", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Marshall Islands", "Maryland", "Massachusetts", "Mexico", "Michigan", "Micronesia", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey", "New Mexico", "New York", "North Carolina", "North Dakota", "Northern Mariana Islands", "Ohio", "Oklahoma", "Oregon", "Palau", "Pennsylvania", "Puerto Rico", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Virgin Islands", "Washington", "West Virginia", "Wisconsin", "Wyoming" 
    ];
    var availableRegions = [
        "All", "1 - Boston", "2 - New York", "3 - Philadelphia", "4 - Atlanta", "5 - Chicago", "6 - Dallas", "7 - Kansas City", "8 - Denver", "9 - San Francisco", "10 - Seattle"
    ];
    function split( val ) {
      return val.split( /,\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }
 
    $( "#providerTypes" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableProviderTypes, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
      
      $( "#subtypes" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableSubTypes, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
      
      $( "#certsStatus" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableCertStatus, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
      
      $( "#states" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableStates, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
      
      $( "#CMSRegions" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
           availableRegions, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( ", " );
          return false;
        }
      });
      
  } );
  </script>
</body>
</html>
